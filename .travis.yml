language: python
python:
  - "2.7"
install:
  - "pip install coveralls"
  - "make install-system"
  - "make install-node"
  - "make install-wheels"
  - "pip install celery==3.0.19"
  - "pip install defusedxml==0.4.1"
  - "pip install dogapi==1.2.1"
  - "pip install 'django>=1.4,<1.5'"
  - "pip install django-celery==3.0.17"
  - "pip install django-extensions==1.2.5"
  - "pip install django-model-utils==1.4.0"
  - "pip install 'djangorestframework<2.4'"
  - "pip install lazy==1.1"
  - "pip install loremipsum==1.0.2"
  - "pip install python-dateutil==2.1"
  - "pip install python-memcached==1.48"
  - "pip install pytz==2012h"
  - "pip install South==0.7.6"
  - "pip install voluptuous==0.8.5"
  - "make install-python"
  - "make install-js"
  - "make install-nltk-data"
  - "make install-test"
  - "make install-dev"
  - "make javascript"
before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
script:
  - "pip freeze"
  - "make test"
  - "python manage.py makemessages -l eo"
after_success:
  coveralls
