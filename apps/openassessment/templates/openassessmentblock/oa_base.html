<div class="wrapper wrapper--xblock wrapper--openassessment theme--basic">
    <div class="openassessment" id="openassessment">
        <div class="wrapper--grid">
            <h1 class="openassessment__title">
                <span class="openassessment__title--super">
                    {{ title }}
                </span>

                <span class="openassessment__title--sub">
                    <span class="problem-type problem-type--open-ended-response">Open Response</span>
                    {%  for assessment in rubric_assessments %}
                    +
                    <span class="problem-type problem-type--{{ assessment.type }}">{{ assessment.name }}</span>
                    {% endfor %}
                </span>
            </h1>

            <nav class="nav--contents">
                <h2 class="title">Skip to a specific step:</h2>

                <ol class="list list--nav">
                    {%  for assessment in rubric_assessments %}
                    <li class="list--nav__item">
                        <a class="action" href="#openassessment__{{ assessment.type }}">{{ assessment.navigation_text }}</a>
                    </li>
                    {% endfor %}
                    <li class="list--nav__item">
                        <a class="action" href="#openassessment__grade">Your grade for this problem</a>
                    </li>
                </ol>
            </nav>

            <div class="wrapper--openassessment__prompt">
                <article class="openassessment__prompt ui-toggle-visibility">

                    <h2 class="openassessment__prompt__title">Open Response Assessment Problem</h2>

                    <div class="openassessment__prompt__copy ui-toggle-visibility__content">
                        <p>{{ question|linebreaks }}</p>
                    </div>
                </article>
            </div>

            <ol class="openassessment__steps" id="openassessment__steps">
                {% for assessment in rubric_assessments %}
                    <li id="{{ assessment.class_id }}" class="openassessment__steps__step is--loading">
                        <header class="step__header">
                            <h2 class="step__title">
                                <span class="step__counter"></span>
                                <span class="wrapper--copy">
                                    <span class="step__label">{{ assessment.title }}</span>
                                </span>
                            </h2>


                            <span class="step__status">
                                <span class="step__status__label">This step's status:</span>
                                    <span class="step__status__value">
                                        <i class="ico icon-cog icon-spin"></i>
                                        <span class="copy">Loading</span>
                                    </span>
                                </span>
                            </span>
                        </header>
                    </li>
                {% endfor %}

                <li class="openassessment__steps__step has--error">
                    <header class="step__header">
                        <h2 class="step__title">
                            <span class="step__counter"></span>
                            <span class="wrapper--copy">
                                <span class="step__label">Your Response</span>

                                <div class="message message--error message--error-server">
                                    <div class="message__content">
                                        <p>There was a problem communicating with the server. Please try again.</p>
                                    </div>
                                </div>
                            </span>
                        </h2>


                        <span class="step__status">
                            <span class="step__status__label">This step's status:</span>
                                <span class="step__status__value">
                                    <i class="icon-warning-sign"></i>
                                    <span class="copy">Unable to Load</span>
                                </span>
                            </span>
                        </span>
                    </header>
                </li>
            </ol>
        </div>
    </div>
</div>
