{% spaceless %}
{% load i18n %}
{% load oa_extras %}
{% load static %}

<link rel="stylesheet" href="{% static 'css/prism.css' %}">
<script src="{% static 'js/prism.js' %}"></script>


<ol class="submission__answer__display__content" >

    <li>
        <h5 class="submission__answer__part__text__title">
            {{answer_text_label}}
        </h5>

        <pre>
            <code  class="{% if code_language %}{{code_language}}{% else %} {% endif %}">{{answer.parts.0}}</code>
        </pre>
    </li>
    {% if staff_view %}
        <li class="list_item">
            <h2 style="text-align:center">Result Summary</h2>
            <br>
            <div  >
                <p class="bold_text">Total Test Cases: {{answer.parts.1.total_tests|add:answer.parts.2.total_tests}}</p>
                <p class="bold_text">Passed Test Cases: {{answer.parts.1.correct|add:answer.parts.2.correct}}</p>
                <p class="bold_text">Percentage Correctness: {{result_percentage}}%</p>
            </div>
        </li>
        <br>
    {% endif %}
    <li class="list_item">
        {% trans "Test Case Result Breakdown" as header_content %}
        {% trans "Your Output" as code_output_label %}
        {% trans "Expected Output" as expected_output_label %}
        {% include "openassessmentblock/render_submission_details.html" with response=answer.parts.1 student_output_header=code_output_label expected_output_header=expected_output_label header_content=header_content%}
    </li>

    {% if staff_view %}
    <br>
        <li class="list_item">
            {% trans "Staff Test Case Result Breakdown" as header_content %}
            {% trans "Staff Test Case Output" as code_output_label %}
            {% trans "Expected Test Case Output" as expected_output_label %}
            {% include "openassessmentblock/render_submission_details.html" with response=answer.parts.2 student_output_header=code_output_label expected_output_header=expected_output_label header_content=header_content%}
        </li>
    {% endif %}
</ol>
{% endspaceless %}
