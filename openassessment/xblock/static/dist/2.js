(window.o3iv79tz90732goag=window.o3iv79tz90732goag||[]).push([[2,4,5,6,7,8,9],{114:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(85),o=n(91),l=n(87),c=n(37),s=n(90),u=n(89),f=n(88);function d(){var e=Object(r.useContext)(c.OAListingContext),t=e.refreshGrid,n=e.oraData,d=e.showOraBlock;return Object(r.useEffect)((function(){return t()}),[]),d?null:a.a.createElement("div",{id:"listing-table"},a.a.createElement(i.a,{isPaginated:!0,initialState:{pageSize:10},isFilterable:!0,isSortable:!0,itemCount:n.length,data:n,columns:[{Header:"Unit Name",accessor:"parent_name"},{Header:"Assessment",accessor:"name",Cell:l.default},{Header:"Total Responses",accessor:"total",num:!0},{Header:"Training",accessor:"training",num:!0},{Header:"Peer",accessor:"peer",num:!0},{Header:"Self",accessor:"self",num:!0},{Header:"Waiting",accessor:"waiting",num:!0,Cell:s.default},{Header:"Staff",accessor:"staff",num:!0,Cell:u.default},{Header:"Final Grade Received",accessor:"done",num:!0},{Header:"Staff Grader",accessor:"staff_grader",hideSummary:!0,Cell:f.default}]},a.a.createElement(o.default,null),a.a.createElement("hr",null),a.a.createElement(i.a.Table,null),a.a.createElement(i.a.EmptyTable,{content:"No results found"}),a.a.createElement(i.a.TableFooter,null)))}d.propTypes={},t.default=d},37:function(e,t,n){"use strict";n.r(t),n.d(t,"OAListingContext",(function(){return p}));var r=n(0),a=n.n(r),i=n(59),o=n(71),l=n(52);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=a.a.createContext();t.default=function(e){var t,n,c=e.oraItems,u=e.oraItemViewEnabled,d=e.children,m=Object(r.useContext)(l.OraContext),b=m.data,g=m.handlerUrl,y=f(Object(r.useState)(JSON.parse(c)),2),v=y[0],h=y[1],O=f(Object(r.useState)(!1),2),w=O[0],E=O[1],j=f(Object(r.useState)(""),2),k=j[0],x=j[1],C=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["training","peer","self","waiting","staff","done"],n=[];v.forEach((function(r){var a=0,i=r.id;i in e&&(r=s(s({},r),e[i])).staff_assessment&&(r.staff=r.waiting,r.waiting=0),t.forEach((function(e){r[e]=r[e]||0,a+=r[e]})),r.total=a,n.push(s({},r))})),h(n)})),A=Object(r.useCallback)((function(){var e=g("get_ora2_responses");x(""),i.a.get(e,{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}).then((function(e){C(e.data),E(!1)})).catch((function(){x("List of Open Assessments is unavailable")}))})),S=Object(r.useCallback)((function(e){x(""),i.a.get(e,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then((function(e){var t=$("#ora-display-proxy");t.html(e.data.html),XBlock.initializeBlock($(t).find(".xblock")[0]),E(!0)})).catch((function(){x("Block view is unavailable")}))})),T=Object(r.useCallback)((function(){$("#ora-display-proxy").empty(),A()})),_=null===(t=b.context)||void 0===t?void 0:t.ENHANCED_STAFF_GRADER,I=null===(n=b.context)||void 0===n?void 0:n.ORA_GRADING_MICROFRONTEND_URL;return a.a.createElement(p.Provider,{value:{esgEnabled:_,esgRootUrl:I,oraData:v,oraItemViewEnabled:u,refreshGrid:A,showOraBlock:w,displayOraBlock:S,backToOpenResponsesGrid:T}},k&&a.a.createElement(o.a,{variant:"danger"},k),d)}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!(!0!=!!e||!e)},a=function(e,t){return Object.hasOwnProperty.call(e,t)},i=function(e,t,n,r){return r?new Error(r):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.default=function(e,t,n){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(o,l,c){for(var s=arguments.length,u=Array(3<s?s-3:0),f=3;f<s;f++)u[f-3]=arguments[f];return r(t,o,l,c)?a(o,l)?e.apply(void 0,[o,l,c].concat(u)):i(o,l,c,n):e.apply(void 0,[o,l,c].concat(u))}}},61:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),l=n(3),c=n.n(l),s=n(53),u=n.n(s),f=n(24),d=n(15),p=n(16),m=["className","destination","children","target","onClick","externalLinkAlternativeText","externalLinkTitle","variant","isInline","showLaunchIcon"];function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var y=a.a.forwardRef((function(e,t){var n,r,i=e.className,o=e.destination,l=e.children,s=e.target,u=e.onClick,p=e.externalLinkAlternativeText,y=e.externalLinkTitle,v=e.variant,h=e.isInline,O=e.showLaunchIcon,w=g(e,m);if("_blank"===s){w.rel=(r=w.rel)?(r.includes("noopener")||(r+=" noopener"),r.includes("noreferrer")||(r+=" noreferrer"),r):"noopener noreferrer",O&&(n=a.a.createElement("span",{className:"pgn__hyperlink__external-icon",title:y},a.a.createElement(f.a,{src:d.o,screenReaderText:p,style:{height:"1em",width:"1em"}})))}return a.a.createElement("a",b({ref:t,className:c()("pgn__hyperlink","".concat(v,"-link"),{"standalone-link":!h,"inline-link":h},i),href:o,target:s,onClick:u},w),l,n)}));y.defaultProps={className:void 0,target:"_self",onClick:function(){},externalLinkAlternativeText:"in a new tab",externalLinkTitle:"Opens in a new tab",variant:"default",isInline:!1,showLaunchIcon:!0},y.propTypes={destination:o.a.string.isRequired,children:o.a.node.isRequired,className:o.a.string,target:o.a.string,onClick:o.a.func,externalLinkAlternativeText:u()(o.a.string,(function(e){return"_blank"===e.target})),externalLinkTitle:u()(o.a.string,(function(e){return"_blank"===e.target})),variant:o.a.oneOf(["default","muted","brand"]),isInline:o.a.bool,showLaunchIcon:o.a.bool},t.a=Object(p.b)(y,"Hyperlink",{content:{deprType:p.a.MOVED,newName:"children"}})},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(61),o=n(37);t.default=function(e){var t=e.row,n=e.column,l=Object(r.useContext)(o.OAListingContext),c=l.oraItemViewEnabled,s=l.displayOraBlock,u=t.original,f=u.url_base,d=u[n.id]||0;return c?a.a.createElement(i.a,{destination:f,onClick:function(e){e.preventDefault(),s(f)}},d):a.a.createElement("span",null,d)}},88:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(61),o=n(37);t.default=function(e){var t=e.row,n=Object(r.useContext)(o.OAListingContext),l=n.esgEnabled,c=n.esgRootUrl,s=t.original,u="".concat(c,"/").concat(s.id),f=l?gettext("View and grade responses"):gettext("Demo the new Grading Experience"),d=s.staff_assessment,p=s.team_assignment;return d&&!p?a.a.createElement(i.a,{destination:u,className:"staff-esg-link"},f):null}},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(61),o=n(37);t.default=function(e){var t=e.row,n=e.column,l=Object(r.useContext)(o.OAListingContext),c=l.oraItemViewEnabled,s=l.esgEnabled,u=l.displayOraBlock,f=t.original,d=f.url_base,p=f[n.id]||0,m=f.staff_assessment,b=f.team_assignment||!s;return c&&m&&b?a.a.createElement(i.a,{destination:d,onClick:function(e){e.preventDefault(),u(d)}},p):a.a.createElement("span",null,p)}},90:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(61),o=n(37);t.default=function(e){var t=e.row,n=e.column,l=Object(r.useContext)(o.OAListingContext),c=l.oraItemViewEnabled,s=l.displayOraBlock,u=t.original,f=u.url_base,d=u[n.id]||0,p=u.peer_assessment;return c&&p?a.a.createElement(i.a,{destination:f,onClick:function(e){e.preventDefault(),s(f)}},d):a.a.createElement("span",null,d)}},91:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(110),i=n(0),o=n.n(i);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=Object(i.useContext)(r.a),t=e.columns,n=e.data,c=l(Object(i.useState)([]),2),s=c[0],u=c[1];return Object(i.useEffect)((function(){for(var e=[],r={},a=0;a<t.length;a++){var i=t[a];if(!i.hideSummary){var o={title:i.Header,value:0,num:i.num};e.push(o),r[i.id]=o}}for(var l=function(e){var t=n[e];Object.keys(t).forEach((function(e){r[e]&&(r[e].value+=r[e].num?t[e]:1)}))},c=0;c<n.length;c++)l(c);u(e)}),[]),o.a.createElement(a.a,{direction:"horizontal",gap:3,className:"my-3"},s.map((function(e){return o.a.createElement("div",{key:e.title},o.a.createElement("div",{className:"h4 text-info"},e.title),o.a.createElement("div",{className:"lead text-center"},e.value))})))}}}]);
//# sourceMappingURL=2.js.map